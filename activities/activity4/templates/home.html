{% extends "base.html" %}

{% block title %}Home - My Flask App{% endblock %}

{% block content %}
<div class="bg-base-100 p-5 rounded-lg shadow-md mb-5">
    <h1 class="text-2xl font-bold">Welcome to Landing Page</h1>
    <p class="mt-4 text-lg">
        This is a landing page for the LTI 1.3 Bootcamp. Below is the information received at launch.
    </p>

    <!-- Prominent Target Link URI Section -->
    <div class="bg-primary text-white p-4 rounded-lg mt-4">
        <h2 class="text-xl font-bold">Target Link URI:</h2>
        <p class="mt-2">{{ target_link_uri }}</p>

        {% if resource_details %}
            <div class="mt-4">
                <h3 class="font-bold">Resource Details:</h3>
                <p><strong>Title:</strong> {{ resource_details.title }}</p>
                <p><strong>Description:</strong> {{ resource_details.description }}</p>

                <!-- Display AI Model as a Pill -->
                {% if model_id %}
                    <span class="bg-white text-primary px-3 py-1 rounded-full mt-2 inline-block shadow">
                        Using AI Model: {{ model_id }}
                    </span>
                {% endif %}
            </div>
        
        {% endif %}
    </div>
</div>

<div class="flex-1 py-5">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
        <!-- User Information Card -->
        <div class="bg-base-100 p-5 rounded-lg shadow-md">
            <h2 class="text-xl font-bold">User Information</h2>
            <p class="mt-2"><strong>Name:</strong> {{ user_data.name }}</p>
            <p class="mt-2"><strong>User ID:</strong> {{ user_data.sub }}</p>
            <p class="mt-2"><strong>Email:</strong> {{ user_data.email }}</p>
            <p class="mt-2"><strong>Source ID:</strong> {{ user_data.sourced_id }}</p>
        </div>

        <!-- Roles Information Card -->
        <div class="bg-base-100 p-5 rounded-lg shadow-md">
            <h2 class="text-xl font-bold">User Roles Information</h2>
            <div class="mt-2 flex flex-wrap gap-2">
                {% for role in user_roles %}
                    <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full">{{ role }}</span>
                {% endfor %}
            </div>
        </div>

        <!-- Link Information Card -->
        <div class="bg-base-100 p-5 rounded-lg shadow-md">
            <h2 class="text-xl font-bold">Link Information</h2>
            <p class="mt-2"><strong>Title:</strong> {{ resource_link.get('title', '') }}</p>
            <p class="mt-2"><strong>ID:</strong> {{ resource_link.get('id', '') }}</p>
            <p class="mt-2"><strong>Target:</strong> {{ target_link_uri }}</p>
        </div>

        <!-- Context Information Card -->
        <div class="bg-base-100 p-5 rounded-lg shadow-md">
            <h2 class="text-xl font-bold">Course Information</h2>
            <p class="mt-2"><strong>Course Name:</strong> {{ context_data.get('title', '') }}</p>
            <p class="mt-2"><strong>Course ID:</strong> {{ context_data.get('id', '') }}</p>
            <p class="mt-2"><strong>Label:</strong> {{ context_data.get('label', '') }}</p>
            <p class="mt-2"><strong>Type:</strong> {{ context_data.get('type', []) }}</p>
            <p class="mt-2"><strong>Source ID:</strong> {{ context_data.get('sourced_id', '') }}</p>
        </div>

        <p class="mt-4 text-sm flex-grow text-gray-400 text-center">Launch ID: {{ launch_id }}</p>
    </div>
</div>
{% endblock %}
